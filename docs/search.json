[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Global Families Project",
    "section": "",
    "text": "1 Project Summary\n\n\n\n\nLocations of Countries in MICS\n\n\nGender inequality perpetuates harmful norms that justify violence against women and children and is associated with higher rates of family violence.\nWorldwide, parental physical abuse is a common form of family violence that children are exposed to at alarming rates. Parental engagement in physical abuse is linked to negative child outcomes including depression, anxiety, and aggression that may persist into adulthood. Globally, these continuing mental health and aggression problems may have high financial costs, with effects both on social service systems and developing economies.\nDespite the substantial scholarship on parent- and family-level predictors of parent-to-child physical violence, important questions remain about societal-level predictors of parental physical abuse and its associations with young children’s development in developing and transitional countries.\nA further gap in prior literature is the lack of studies that have examined potential moderators such as child age and household economic status in the associations between gender inequality and parental violence against children.\nUsing data from over 520,000 families in 57 low- and middle-income countries (LMICs), the current project seeks to address these research gaps by examining the associations of country-level gender inequality and violent social contexts with caregivers’ use of physically abusive behavior and child social-emotional development. We will employ multilevel models using data on parental physical violence against children, family socio-economic characteristics, and children’s social-emotional development from the UNICEF Multiple Indicator Cluster Surveys (MICS) and data on country-level gender inequality and violent social contexts from the United Nations Development Programme on Human Development and the World Health Organization Global Health Observatory.\nThe specific aims are to 1) examine the associations of gender inequality with parental child physical abuse in LMICs, and the moderating roles of child age and household economic status in these associations, 2) examine the associations of violent social norms and crimes with parental physical abuse in LMICs, and 3) examine the associations of parental physical abuse with child social-emotional development in the context of gender inequality and violent norms and crimes in LMICs, and whether country-level normativeness of physical abuse moderates these associations.\nThe proposed studies will advance the understanding of macro-level social and economic indicators that perpetuate caregivers’ physical violence against children in international contexts. Study findings will inform cross-cultural programs and policies that reduce gender disparities and prevent parental physical abuse to promote child social-emotional development across the globe.\nIn addition, these studies will provide rigorous research engagement opportunities to undergraduate students and graduate students and strengthen the research environment at the University of Michigan-Flint."
  },
  {
    "objectID": "team.html",
    "href": "team.html",
    "title": "2  Research Team",
    "section": "",
    "text": "Julie Ma, Principal Investigator\nAssociate Professor of Social Work and Director, Department of Social Work, College of Health Sciences, The University of Michigan-Flint\nProfessor Ma’s research interests center around the effects of parental physical violence and cultural norms that endorse such violence on the well-being of children, both at local and global levels. Her ongoing research projects primarily focus on examining the link between parental physical abuse and the social-emotional development of young children. She specifically focuses on exploring these associations within the context of gender inequality and violent norms and crimes in low- and middle-income countries.\nAndy Grogan-Kaylor, Co-Investigator\nSandra K. Danziger Collegiate Professor, Professor of Social Work, University of Michigan School of Social Work\nProfessor Grogan-Kaylor’s research focuses on basic and intervention research on children and families with the aim of reducing violence against children and improving family and child wellbeing. Grogan-Kaylor’s current research projects examine parenting behaviors such as physical punishment and parental expressions of emotional warmth and support, and their effects on children’s aggression, antisocial behavior, anxiety, and depression.\nShawna Lee, Co-Investigator\nProfessor of Social Work, University of Michigan School of Social Work\nProfessor Lee is a professor at the University of Michigan School of Social Work. She is the director of the Parenting in Context Research Lab and the director of the Program Evaluation Group at the School. Lee has published on topics related to child maltreatment, fathers’ parenting, father-child relationships, parenting stress and family functioning, and parental discipline. Her recent research focuses on parenting and stress during the COVID-19 pandemic.\nDana Charles McCoy, Consultant\nMarie and Max Kargman Associate Professor in Human Development and Urban Education Advancement, the Harvard Graduate School of Education\nProfessor McCoy’s work focuses on understanding the ways that poverty and violence in children’s home, school, and neighborhood environments affect the development of their cognitive and socioemotional skills in early childhood. She is also interested in the development, refinement, and evaluation of early intervention programs designed to promote positive development and resilience in young children, particularly in terms of their self-regulation and executive function.\nElizabeth Heger Boyle, Consultant\nProfessor of Sociology & Law, University of Minnesota\nProfessor Boyle studies women’s and children’s right to health, with a focus on the negative impacts of violence. She is committed to making comparative health microdata more accessible to researchers around the world; to that end, she is Principal Investigator of IPUMS Global Health, a set of online tools with free harmonized health and well-being data from the DHS Program, UNICEF, and Performance Monitoring for Action. Professor Boyle’s recent research focuses on orphans’ experience with violent discipline in sub-Saharan Africa and the relationship between women and children’s health and armed conflict.\nMeghana Kodali, Research Assistant\nMeghana Kodali’s research focus is on exploring gender inequality affecting women and children that leads to family violence. As a research assistant, she examined the effectiveness of telehealth services for adolescents. She also investigated trends in Medicare reimbursements for patients with cervical cancer within the first year of diagnosis and presented a poster on this work at the American Association for Cancer Research (AACR). Currently, she is interested in further examining potential moderators driving gender inequality and parental abuse against children.\nMarilyn Kubek, Research Assistant\nMarilyn Kubek has over 10 years of experience in the healthcare field, both during her undergraduate studies and in her professional positions. As a current Graduate Student Research Assistant (GSRA) on this project, she is excited to participate in the advanced research environment offered through the UM-Flint Department of Social Work, expanding her knowledge of data analytics and grant-funded projects.\nKaylee Fisher, Research Assistant\nKaylee Fisher is an undergraduate student majoring in psychology and minoring in Human Resources Management at UM-Flint. Her research interests encompass brain functions, human behavior, cognition, child development, and related topics such as how social norms and the environment influence these processes. She is a member of the UM-Flint Undergraduate Research Opportunity Program (UROP) and is currently applying to doctoral programs in clinical psychology.\nOlivia Chang, Research Assistant\nOlivia D. Chang is a PhD student in the Joint Social Work and Developmental Psychology doctoral program at the University of Michigan. She earned her Master of Social Work in Interpersonal Practice from the University of Michigan School of Social Work. Her research interests include positive parenting, child maltreatment, adverse childhood experiences, community-based interventions, and resiliency. Drawing on psychological and social work frameworks, her work takes an interdisciplinary approach to transforming child welfare."
  },
  {
    "objectID": "simulated-multi-country-data.html#variables-and-variable-labels",
    "href": "simulated-multi-country-data.html#variables-and-variable-labels",
    "title": "3  Simulated Multi-Country Data",
    "section": "3.1 Variables and Variable Labels",
    "text": "3.1 Variables and Variable Labels\n\n\nShow the code\nlabelled::look_for(MICSsimulated)\n\n\n pos variable   label                   col_type values\n 1   id         id                      int            \n 2   country    country                 int            \n 3   GII        Gender Inequality Index int            \n 4   HDI        Human Development Index int            \n 5   cd1        spank                   int            \n 6   cd2        beat                    int            \n 7   cd3        shout                   int            \n 8   cd4        explain                 int            \n 9   aggression aggression              int"
  },
  {
    "objectID": "simulated-multi-country-data.html#a-sample-of-the-data",
    "href": "simulated-multi-country-data.html#a-sample-of-the-data",
    "title": "3  Simulated Multi-Country Data",
    "section": "3.2 A Sample Of The Data",
    "text": "3.2 A Sample Of The Data\nA sample of the data is given below.\n\n\nShow the code\nhead(MICSsimulated)\n\n\n  id country GII HDI cd1 cd2 cd3 cd4 aggression\n1  1       1  20  24   0   0   1   1          1\n2  2       1  20  24   0   0   1   1          1\n3  3       1  20  24   0   0   1   1          1\n4  4       1  20  24   0   0   0   0          1\n5  5       1  20  24   1   0   1   1          0\n6  6       1  20  24   0   0   1   1          1"
  },
  {
    "objectID": "simulated-multi-country-data.html#footnotes",
    "href": "simulated-multi-country-data.html#footnotes",
    "title": "3  Simulated Multi-Country Data",
    "section": "",
    "text": "We use the term parenting throughout this site, but are aware that such parenting may come from biological parents, or from other caregivers.↩︎"
  },
  {
    "objectID": "quick-intro-R.html#why-use-r",
    "href": "quick-intro-R.html#why-use-r",
    "title": "4  A Quick Introduction to R",
    "section": "4.1 Why Use R?",
    "text": "4.1 Why Use R?\nR has a reputation for being difficult to learn, and a lot of that reputation is deserved. However, it is possible to teach R in an accessible way, and a little bit of R can take you a long way.\nR is open source, and therefore free, statistical software that is particularly good at obtaining, analyzing and visualizing data.\nR Commands are stored in a script or code file that usually ends in .R, e.g. myscript.R. The command file is distinct from your actual data, stored in an .RData file, e.g. mydata.RData.\nA great deal of data analysis and visualization involves the same core set of steps.\nGiven the fact that we often want to apply the same core set of tasks to new questions and new data, there are ways to overcome the steep learning curve and learn a replicable set of commands that can be applied to problem after problem. The same 5 to 10 lines of R code can often be tweaked over and over again for multiple projects.\n\\[\\text{have a question} \\rightarrow \\text{get data} \\rightarrow \\text{process and clean data} \\rightarrow\\] \\[\\text{visualize data} \\rightarrow \\text{analyze data} \\rightarrow \\text{make conclusions}\\]"
  },
  {
    "objectID": "quick-intro-R.html#get-r",
    "href": "quick-intro-R.html#get-r",
    "title": "4  A Quick Introduction to R",
    "section": "4.2 Get R",
    "text": "4.2 Get R\nR is available at https://www.r-project.org/. R is a lot easier to run if you run it from RStudio, http://www.rstudio.com."
  },
  {
    "objectID": "quick-intro-R.html#get-data",
    "href": "quick-intro-R.html#get-data",
    "title": "4  A Quick Introduction to R",
    "section": "4.3 Get Data",
    "text": "4.3 Get Data\nData may already be in R format, or may come from other types of data files like SPSS, Stata, or Excel. Especially in beginning R programming, getting the data into R can be the most complicated part of your program.\n\n4.3.1 Data in R Format\n\nload(\"./simulate-data/MICSsimulated.RData\") # data in R format\n\n\n\n4.3.2 Data in Other Formats\nIf data are in other formats, slightly different code may be required.\n\nlibrary(haven) # library for importing data \nmydata &lt;- read_sav(\"the/path/to/mySPSSfile.sav\") # SPSS\nmydata &lt;- read_dta(\"the/path/to/myStatafile.dta\") # Stata\n\nlibrary(readxl) # library for importing Excel files\nmydata &lt;- read_excel(\"the/path/to/mySpreadsheet.xls\")\n\nsave(mydata, file = \"mydata.RData\") # save in R format"
  },
  {
    "objectID": "quick-intro-R.html#process-and-clean-data",
    "href": "quick-intro-R.html#process-and-clean-data",
    "title": "4  A Quick Introduction to R",
    "section": "4.4 Process and Clean Data",
    "text": "4.4 Process and Clean Data\n\n4.4.1 The $ Sign\nThe $ sign is a kind of “connector”. mydata$x means: “The variable x in the dataset called mydata”.\n\n\n4.4.2 Recoding Data\nData sometimes need to be recoded. For example, outliers may need to be changed to missing, or a value that is supposed to indicated missing data (e.g. -9) may need to be changed to missing.\nRecoding uses the following construction:\ndata$variable[condition] &lt;- new value\nFor example, change an outlier value: When cd1 is 2 change it to missing (NA).\n\nMICSsimulated$cd1[MICSsimulated$cd1 == 2] &lt;- NA # outlier (2) to NA\n\nChange variable cd1 to missing (NA) when it is -9.\n\nMICSsimulated$cd1[MICSsimulated$cd1 == -9] &lt;- NA # missing (-9) to NA\n\n\n\n4.4.3 Numeric and Factor Variables\nR makes a strong distinction between continuous numeric variables that measure scales like mental health or neighborhood safety, and categorical factor variables that measure non-ordered categories like religious identity or gender identity.\nMany statistical and graphical procedures are designed to recognize and work with different variable types. You often don’t need to use all of the options. e.g. mydata$w &lt;- factor(mydata$z) will often work just fine. Changing variables from factor to numeric, and vice versa can sometimes be the simple solution that solves a lot of problems when you are trying to graph your variables.\n\nMICSsimulated$aggression &lt;- \n  factor(MICSsimulated$aggression, # original numeric variable\n         levels = c(0, 1), \n         labels = c(\"no aggression\", \"aggression\"), \n         ordered = TRUE) # whether order matters\n\n# MICSsimulated$z &lt;- as.numeric(MICSsimulated$w) # factor to numeric"
  },
  {
    "objectID": "quick-intro-R.html#visualize-data",
    "href": "quick-intro-R.html#visualize-data",
    "title": "4  A Quick Introduction to R",
    "section": "4.5 Visualize Data",
    "text": "4.5 Visualize Data\n\n4.5.1 Histogram\n\nhist(MICSsimulated$GII, # what I'm graphing\n        main = \"Gender Inequality Index\", # title\n        xlab = \"GII\", # label for x axis\n        col = \"blue\") # color\n\n\n\n\nFigure 4.1: Histogram of Gender Inequality Index\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nYou often don’t need to use all of the options. e.g. hist(mydata$x) will work just fine.\n\n\n\n\n4.5.2 Barplot\n\nbarplot(table(MICSsimulated$aggression), # what I'm graphing\n        main = \"Child Displays Aggression\", # title\n        xlab = \"Aggression\", # label for x axis\n        col = \"gold\") # color\n\n\n\n\nFigure 4.2: Barplot of Aggression\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nYou often don’t need to use all of the options. e.g. barplot(table(mydata$z)) will work just fine."
  },
  {
    "objectID": "quick-intro-R.html#analyze-data-descriptive-statistics",
    "href": "quick-intro-R.html#analyze-data-descriptive-statistics",
    "title": "4  A Quick Introduction to R",
    "section": "4.6 Analyze Data: Descriptive Statistics",
    "text": "4.6 Analyze Data: Descriptive Statistics\n\nsummary(mydata$x) # for continuous or factor variables\n\ntable(mydata$z) # especially suitable for factor variables\n\n\nsummary(MICSsimulated$GII)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   15.0    22.0    24.0    24.2    27.0    31.0 \n\ntable(MICSsimulated$aggression)\n\n\nno aggression    aggression \n         1316          1684"
  },
  {
    "objectID": "quick-intro-ggplot2.html#why-use-ggplotmoreinformation",
    "href": "quick-intro-ggplot2.html#why-use-ggplotmoreinformation",
    "title": "5  A Quick Introduction To ggplot2",
    "section": "5.1 Why Use ggplot?1",
    "text": "5.1 Why Use ggplot?1\nA great deal of data analysis and visualization involves the same core set of steps: get some data, clean it up a little, run some descriptive statistics, run some bivariate statistics, create a graph or a visualization. ggplot2 can be an important part of a replicable, automated, documented workflow for complex projects.\n\\[\\text{have a question} \\rightarrow \\text{get data} \\rightarrow \\text{process and clean data} \\rightarrow\\] \\[\\text{visualize data} \\rightarrow \\text{analyze data} \\rightarrow \\text{make conclusions}\\]\nGiven the fact that we often want to apply the same core set of tasks to new questions and new data, there are ways to overcome the steep learning curve and learn a replicable set of commands that can be applied to problem after problem.\n\nThe same 5 to 10 lines of ggplot2 code can often be tweaked over and over again for multiple projects."
  },
  {
    "objectID": "quick-intro-ggplot2.html#the-essential-idea-of-ggplot-is-simple",
    "href": "quick-intro-ggplot2.html#the-essential-idea-of-ggplot-is-simple",
    "title": "5  A Quick Introduction To ggplot2",
    "section": "5.2 The Essential Idea Of ggplot Is Simple",
    "text": "5.2 The Essential Idea Of ggplot Is Simple\nThere are 3 essential elements to any ggplot call:\n\nA reference to the data you are using.\nAn aesthetic that tells ggplot which variables are being mapped to the x axis, y axis, (and often other attributes of the graph, such as the color, * color fill, or even the shape, size, transparency, or line type*). Intuitively, the aesthetic can be thought of as what you are graphing.\nA geom or geometry that tells ggplot about the basic structure of the graph. Intuitively, the geom can be thought of as how you are graphing it.\n\nYou can also add other options, such as a graph title, axis labels and overall theme for the graph."
  },
  {
    "objectID": "quick-intro-ggplot2.html#get-started",
    "href": "quick-intro-ggplot2.html#get-started",
    "title": "5  A Quick Introduction To ggplot2",
    "section": "5.3 Get Started",
    "text": "5.3 Get Started\n\n5.3.1 Call Libraries\n\nlibrary(ggplot2) # beautiful graphs\n\nlibrary(ggthemes) # nice themes for ggplot2\n\n\n\n5.3.2 Get Data\n\nload(\"./simulate-data/MICSsimulated.RData\") # data in R format"
  },
  {
    "objectID": "quick-intro-ggplot2.html#some-examplesvartype",
    "href": "quick-intro-ggplot2.html#some-examplesvartype",
    "title": "5  A Quick Introduction To ggplot2",
    "section": "5.4 Some Examples2",
    "text": "5.4 Some Examples2\n\n5.4.1 One Continuous Variable\n\n# anything that starts with a '#' is a comment\n\nggplot(MICSsimulated, # the data I am using\n       aes(x = GII)) + # the variable I am using\n  geom_histogram() # how I am graphing it\n\n\n\n\nFigure 5.1: Histogram of Gender Inequality Index\n\n\n\n\nWe can add color and a theme.\n\n# anything that starts with a '#' is a comment\n\nggplot(MICSsimulated, # the data I am using\n       aes(x = GII)) + # the variable I am using\n  geom_histogram(fill = \"#1CABE2\") + # how I am graphing it\n  theme_minimal()\n\n\n\n\nFigure 5.2: Histogram of Gender Inequality Index\n\n\n\n\n\n\n5.4.2 One Categorical Variable\nMake sure R knows aggression is a categorical variable.\n\nMICSsimulated$aggression &lt;- \n  factor(MICSsimulated$aggression, # original numeric variable\n         levels = c(0, 1), \n         labels = c(\"no aggression\", \"aggression\"), \n         ordered = TRUE) # whether order matters\n\nNow make the graph.\n\nggplot(MICSsimulated, # the data I am using\n       aes(x = aggression)) + # the variable I am using\n  geom_bar() # how I am graphing it\n\n\n\n\nFigure 5.3: Bar Graph of Aggression\n\n\n\n\nWe can add color and a theme.3\n\nggplot(MICSsimulated, # the data I am using\n       aes(x = aggression, # x is aggression\n           fill = aggression)) + # fill is also aggression\n  geom_bar() + # how I am graphing it\n  theme_minimal()\n\n\n\n\nFigure 5.4: Bar Graph of Aggression"
  },
  {
    "objectID": "quick-intro-ggplot2.html#make-a-more-complex-graphlegend2",
    "href": "quick-intro-ggplot2.html#make-a-more-complex-graphlegend2",
    "title": "5  A Quick Introduction To ggplot2",
    "section": "5.5 Make a More Complex Graph4",
    "text": "5.5 Make a More Complex Graph4\nMake sure R knows cd1 is a categorical variable.\n\nMICSsimulated$cd1 &lt;- \n  factor(MICSsimulated$cd1, # original numeric variable\n         levels = c(0, 1), \n         labels = c(\"no spank\", \"spank\"), \n         ordered = TRUE) # whether order matters\n\nNow make the graph.\n\nggplot(MICSsimulated, # the data I am using\n       aes(x = cd1, # x is spanking\n           fill = aggression)) + # fill is aggression\n  geom_bar(position = position_dodge()) + # graph with \"dodged\" bars\n  labs(title = \"Spanking and Aggression\", \n       x = \"spanking\", \n       y = \"count\") +\n  scale_fill_manual(values = c(\"#1CABE2\", # UNICEF colors\n                               \"#D8D1C9\")) +\n  theme_minimal()  # theme\n\n\n\n\nAn interactive tutorial to create this plot can be found here."
  },
  {
    "objectID": "quick-intro-ggplot2.html#footnotes",
    "href": "quick-intro-ggplot2.html#footnotes",
    "title": "5  A Quick Introduction To ggplot2",
    "section": "",
    "text": "More information can be found here: https://agrogan1.github.io/R/introduction-to-ggplot2/introduction-to-ggplot2.html↩︎\nChanging variables from factor to numeric (e.g. aes(x = as.numeric(outcome))), and vice versa can sometimes be a simple solution that solves a lot of problems when you are trying to graph your variables.↩︎\nNotice how use of fill governs both the color fill in the graph below, as well as the legend that is produced in the graph.↩︎\nNotice how use of fill governs both the color fill in the graph below, as well as the legend that is produced in the graph.↩︎"
  },
  {
    "objectID": "quantitative-data-analysis.html#introduction",
    "href": "quantitative-data-analysis.html#introduction",
    "title": "6  Quantitative Data Analysis",
    "section": "6.1 Introduction",
    "text": "6.1 Introduction\nA great deal of data analysis and visualization involves the same core set of steps.\n\\[\\text{have a question} \\rightarrow \\text{get data} \\rightarrow \\text{process and clean data} \\rightarrow \\text{analyze data}\\]"
  },
  {
    "objectID": "quantitative-data-analysis.html#some-tools-for-analysis",
    "href": "quantitative-data-analysis.html#some-tools-for-analysis",
    "title": "6  Quantitative Data Analysis",
    "section": "6.2 Some Tools for Analysis",
    "text": "6.2 Some Tools for Analysis\nBelow we describe some simple data cleaning with R. We begin, however, by comparing several different tools for analysis including: Excel, Google Sheets, R, and Stata.\n\n\n\n\n\n\n\n\n\n\n\nTool\nCost\nEase of Use\nAnalysis Capabilities\nSuitability for Large Data\nKeep Track of Complicated Workflows\n\n\n\n\nExcel\nComes installed on many computers\nEasy\nLimited\nDifficult when N &gt; 100\nDifficult to Impossible\n\n\nGoogle Sheets\nFree with a Google account\nEasy\nLimited\nDifficult when N &gt; 100\nDifficult to Impossible\n\n\nR\nFree\nChallenging\nExtensive\nExcellent with large datasets\nYes, with script\n\n\nStata\nSome cost\nLearning Curve but Intuitive\nExtensive\nExcellent with large datasets\nYes, with command file"
  },
  {
    "objectID": "quantitative-data-analysis.html#working-with-r",
    "href": "quantitative-data-analysis.html#working-with-r",
    "title": "6  Quantitative Data Analysis",
    "section": "6.3 Working With R",
    "text": "6.3 Working With R\n\n6.3.1 Our Data\nWe take a look at our simulated data.\n\nload(\"./simulate-data/MICSsimulated.RData\") # data in R format\n\nlabelled::look_for(MICSsimulated) # look at data\n\n pos variable   label                   col_type values\n 1   id         id                      int            \n 2   country    country                 int            \n 3   GII        Gender Inequality Index int            \n 4   HDI        Human Development Index int            \n 5   cd1        spank                   int            \n 6   cd2        beat                    int            \n 7   cd3        shout                   int            \n 8   cd4        explain                 int            \n 9   aggression aggression              int            \n\n\n\n\n6.3.2 Cleaning Data\nThere are some basic data cleaning steps that are common to many projects.\n\nOnly keep the variables of interest. Section 6.3.2.1\nAdd variable labels (if we can). Section 6.3.2.2\nAdd value labels (if we can). Section 6.3.2.3\nRecode outliers, values that are errors, or values that should be coded as missing Section 6.3.2.4\n\n\nMuch of R’s functionality is accomplished through writing code, that is saved in a script. Notice how–as our tasks get more and more complicated–the saved script provides documentation for the decisions that we have made with the data.\n\n\n6.3.2.1 Only keep the variables of interest.\n\nWe can easily accomplish this with the subset function\n\n\nmynewdata &lt;- subset(MICSsimulated,\n                    select = c(id, country, aggression))\n\n\nhead(mynewdata)\n\n  id country aggression\n1  1       1          1\n2  2       1          1\n3  3       1          1\n4  4       1          1\n5  5       1          0\n6  6       1          1\n\n\n\n\n6.3.2.2 Add variable labels (if we can).\n\nAdding variable labels is still somewhat new in R. The labelled library allows us to add or change variable labels. However, not every library in R recognizes variable labels.\n\n\nlibrary(labelled)\n\nvar_label(MICSsimulated$id) &lt;- \"id\"\n\nvar_label(MICSsimulated$country) &lt;- \"country\"\n\nvar_label(MICSsimulated$cd4) &lt;- \"explain\"\n\n\n\n6.3.2.3 Add value labels (if we can).\n\nIn contrast, value labels are straightforward in R, and can be accomplished by creating a factor variable. Below we demonstrate how to do this with the happy variable.\n\n\nMICSsimulated$cd4 &lt;- factor(MICSsimulated$cd4,\n                             levels = c(0, 1),\n                             labels = c(\"Did not explain\",\n                                        \"Explained\"))\n\n\nhead(MICSsimulated)\n\n  id country GII HDI cd1 cd2 cd3             cd4 aggression\n1  1       1  20  24   0   0   1       Explained          1\n2  2       1  20  24   0   0   1       Explained          1\n3  3       1  20  24   0   0   1       Explained          1\n4  4       1  20  24   0   0   0 Did not explain          1\n5  5       1  20  24   1   0   1       Explained          0\n6  6       1  20  24   0   0   1       Explained          1\n\n\n\n\n6.3.2.4 Recode outliers, values that are errors, or values that should be coded as missing.\n\nWe can easily accomplish this using Base R’s syntax for recoding: data$variable[rule] &lt;- newvalue.\n\n\nMICSsimulated$aggression[MICSsimulated$aggression &gt; 1] &lt;- NA # recode &gt; 1 to NA\n\nMICSsimulated$GII[MICSsimulated$GII &gt; 100] &lt;- NA # recode &gt; 100 to NA\n\n\nhead(MICSsimulated)\n\n  id country GII HDI cd1 cd2 cd3             cd4 aggression\n1  1       1  20  24   0   0   1       Explained          1\n2  2       1  20  24   0   0   1       Explained          1\n3  3       1  20  24   0   0   1       Explained          1\n4  4       1  20  24   0   0   0 Did not explain          1\n5  5       1  20  24   1   0   1       Explained          0\n6  6       1  20  24   0   0   1       Explained          1\n\n\n\n\n\n6.3.3 Simple Analysis\nOur first step in analysis is to discover what kind of variables we have. We need to make a distinction between continuous variables that measure things like mental health or neighborhood safety, or age, and categorical variables that measure non-ordered categories like religious identity or gender identity.\n\nFor continuous variables, it is most appropriate to take the average or mean.\nFor categorical variables, it is most appropriate to generate a frequency table.\n\n\nAs a mostly command based language, R relies on the idea of do_something(dataset$variable).\n\n\nsummary(MICSsimulated$GII) # descriptive statistics for GII\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   15.0    22.0    24.0    24.2    27.0    31.0 \n\n\n\ntable(MICSsimulated$cd4) # frequency table of cd4\n\n\nDid not explain       Explained \n            674            2326"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Kreft, I., & de Leeuw, J. (1998). Introducing multilevel\nmodeling. SAGE Publications. https://doi.org/10.4135/9781849209366\n\n\nLuke, D. (2004). Multilevel modeling. SAGE Publications, Inc.\nhttps://doi.org/10.4135/9781412985147\n\n\nRabe-Hesketh, S., & Skrondal, A. (2022). Multilevel and longitudinal\nmodeling using Stata. In Stata Press (4th ed.).\nStata Press.\n\n\nRaudenbush, S. W., & Bryk, A. S. (2002). Hierarchical linear\nmodels: Applications and data analysis methods (pp. xxiv, 485 p.).\nSage Publications.\n\n\nSinger, J. D., & Willett, J. B. (2003). Applied longitudinal data\nanalysis : Modeling change and event occurrence. In Applied\nlongitudinal data analysis : modeling change and event occurrence.\nOxford University Press.\n\n\nUnited Nations Development Program. (2022). Human Development\nIndex (HDI). https://hdr.undp.org/data-center/human-development-index#/indicies/HDI\n\n\nUnited Nations Development Program. (2023). Gender Inequality\nIndex (GII). https://hdr.undp.org/data-center/thematic-composite-indices/gender-inequality-index#/indicies/GII"
  },
  {
    "objectID": "simulate-data.html#call-relevant-libraries",
    "href": "simulate-data.html#call-relevant-libraries",
    "title": "Appendix A — Simulating MICS Data",
    "section": "A.1 Call Relevant Libraries",
    "text": "A.1 Call Relevant Libraries\nWe need to call a number of relevant R libraries to simulate the data.\n\n\nShow the code\nlibrary(tibble) # new dataframes\n\nlibrary(ggplot2) # nifty graphs\n\nlibrary(labelled) # labels\n\nlibrary(haven) # write Stata\n\nlibrary(tidyr) # tidy data\n\nlibrary(dplyr) # wrangle data\n\nlibrary(lme4) # multilevel models\n\nlibrary(sjPlot) # nice tables for MLM\n\nlibrary(pander) # nice tables"
  },
  {
    "objectID": "simulate-data.html#setup-some-basic-parameters-of-the-data",
    "href": "simulate-data.html#setup-some-basic-parameters-of-the-data",
    "title": "Appendix A — Simulating MICS Data",
    "section": "A.2 Setup Some Basic Parameters of the Data",
    "text": "A.2 Setup Some Basic Parameters of the Data\nBecause simulation is a random process, we set a random seed so that the simulation produces the same data set each time it is run.\nWe are going to simulate data with 30 countries, and 100 individuals per country.\n\n\nShow the code\nset.seed(1234) # random seed\n\nN_countries &lt;- 30 # number of countries\n\nN &lt;- 100 # sample size / country"
  },
  {
    "objectID": "simulate-data.html#simulate-data-based-on-mics",
    "href": "simulate-data.html#simulate-data-based-on-mics",
    "title": "Appendix A — Simulating MICS Data",
    "section": "A.3 Simulate Data Based on MICS",
    "text": "A.3 Simulate Data Based on MICS\nThis is multilevel data where individuals are nested, or clustered, inside countries. Excellent technical and pedagogical discussions of multilevel models can be found in Raudenbush & Bryk (2002), Singer & Willett (2003), Rabe-Hesketh & Skrondal (2022), Luke (2004), and Kreft & de Leeuw (1998).\n\nA.3.1 Level 2\nSimulating the second level of the data is relatively easy. We simply need to provide the number of countries, and then generate random effects for each country. Random effects are discussed in the above references, but essentially represent country level differences in the data.\nWe also create GII, a Gender Inequality Index (United Nations Development Program, 2023) variable, and HDI, a measure of the Human Development Index (United Nations Development Program, 2022), since these are country level, or Level 2 variables.\n\n\nShow the code\ncountry &lt;- seq(1:N_countries) # sequence 1 to 30\n\nGII &lt;- rbinom(N_countries, 100, .25) # gender inequality index\n\nHDI &lt;- rbinom(N_countries, 100, .25) # Human Development Index\n\nu0 &lt;- rnorm(N_countries, 0, .25) # random intercept\n\nu1 &lt;- rnorm(N_countries, 0, .05) # random slope\n\nrandomeffects &lt;- data.frame(country, \n                            GII, \n                            HDI, \n                            u0, \n                            u1) # dataframe of random effects\n\n\n\n\nA.3.2 Level 1\nSimulating the Level 1 data is more complex.\nWe uncount the data by 100 to create 100 observations for each country. We then create an id number.\nWe create randomly simulated parental discipline variables with proportions similar to those in MICS.\nLastly, we need to create the dependent variable. Because this is a dichotomous outcome, the process is somewhat complex. We need to craete a linear combination z, using regression weights derived from MICS. We then calculate predicted probabilities, and lastly generate a dichotomous aggression outcome from those probabilities.\n\n\nShow the code\nMICSsimulated &lt;- randomeffects %&gt;% \n  uncount(N) %&gt;% # N individuals / country\n  mutate(id = row_number()) %&gt;% # unique id\n  mutate(cd1 = rbinom(N * N_countries, 1, .38), # spank\n         cd2 = rbinom(N * N_countries, 1, .05), # beat\n         cd3 = rbinom(N * N_countries, 1, .64), # shout\n         cd4 = rbinom(N * N_countries, 1, .78)) %&gt;% # explain\n  mutate(z = 0 + # linear combination based on MICS\n           .01 * GII +\n           .23 * cd1 +\n           .52 * cd2 +\n           .42 * cd3 +\n           -.21 * cd4 + \n           u0) %&gt;%\n  mutate(p = exp(z) / (1 + exp(z))) %&gt;% # probability\n  mutate(aggression = rbinom(N * N_countries, 1, p)) %&gt;% # binomial y\n  select(id, country, GII, HDI,\n         cd1, cd2, cd3, cd4, \n         aggression)\n\n\n\n\nA.3.3 Variable Labels\nWe add variable labels to the data which will help us to understand the data as we analyze it.\n\n\nShow the code\nvar_label(MICSsimulated$id) &lt;- \"id\"\n\nvar_label(MICSsimulated$country) &lt;- \"country\"\n\nvar_label(MICSsimulated$GII) &lt;- \"Gender Inequality Index\"\n\nvar_label(MICSsimulated$HDI) &lt;- \"Human Development Index\"\n\nvar_label(MICSsimulated$cd1) &lt;- \"spank\"\n\nvar_label(MICSsimulated$cd2) &lt;- \"beat\"\n\nvar_label(MICSsimulated$cd3) &lt;- \"shout\"\n\nvar_label(MICSsimulated$cd4) &lt;- \"explain\"\n\nvar_label(MICSsimulated$aggression) &lt;- \"aggression\"\n\n\n\n\nShow the code\npander(labelled::look_for(MICSsimulated)[1:4]) # list out variable labels\n\n\n\n\nTable A.1: Variable Labels\n\n\n\n\n\n\n\n\npos\nvariable\nlabel\ncol_type\n\n\n\n\n1\nid\nid\nint\n\n\n2\ncountry\ncountry\nint\n\n\n3\nGII\nGender Inequality Index\nint\n\n\n4\nHDI\nHuman Development Index\nint\n\n\n5\ncd1\nspank\nint\n\n\n6\ncd2\nbeat\nint\n\n\n7\ncd3\nshout\nint\n\n\n8\ncd4\nexplain\nint\n\n\n9\naggression\naggression\nint"
  },
  {
    "objectID": "simulate-data.html#explore-the-simulated-data-with-a-graph",
    "href": "simulate-data.html#explore-the-simulated-data-with-a-graph",
    "title": "Appendix A — Simulating MICS Data",
    "section": "A.4 Explore The Simulated Data With A Graph",
    "text": "A.4 Explore The Simulated Data With A Graph\nExploring the simulated data with a graph helps us to ensure that we have simulated plausible data.\n\n\nShow the code\nggplot(MICSsimulated,\n       aes(x = cd1, # x is spanking\n           y = aggression, # y is aggression\n           color = factor(country))) + # color is country\n  geom_smooth(method = \"glm\", # glm smoother\n              method.args = list(family = \"binomial\"),\n              alpha = .1) + # transparency for CI's\n  labs(title = \"Aggression as a Function of Spanking\",\n       x = \"spank\",\n       y = \"aggression\") +\n  scale_color_viridis_d(name = \"Country\") + # nice colors\n  theme_minimal()\n\n\n\n\n\nFigure A.1: Graph of Simulated Data"
  },
  {
    "objectID": "simulate-data.html#explore-the-simulated-data-with-a-logistic-regression",
    "href": "simulate-data.html#explore-the-simulated-data-with-a-logistic-regression",
    "title": "Appendix A — Simulating MICS Data",
    "section": "A.5 Explore The Simulated Data With A Logistic Regression",
    "text": "A.5 Explore The Simulated Data With A Logistic Regression\nSimilarly, exploring the data with a logistic regression confirms that we have created plausible data.\n\n\nShow the code\nfit1 &lt;- glmer(aggression ~ cd1 + cd2 + cd3 + cd4 + GII +\n                (1 | country), \n              family = \"binomial\",\n              data = MICSsimulated,\n              control = glmerControl(optimizer =\"bobyqa\"))\n\ntab_model(fit1, # nice table\n          transform = NULL) # untransformed estimates\n\n\n\n?(caption)"
  },
  {
    "objectID": "simulate-data.html#write-data-to-various-formats",
    "href": "simulate-data.html#write-data-to-various-formats",
    "title": "Appendix A — Simulating MICS Data",
    "section": "A.6 Write data to various formats",
    "text": "A.6 Write data to various formats\nLastly, we write the data out to various formats: R, Stata, and SPSS.\n\n\nShow the code\nsave(MICSsimulated, \n     file = \"./simulate-data/MICSsimulated.RData\") # R\n\nwrite_dta(MICSsimulated, \n          \"./simulate-data/MICSsimulated.dta\") # Stata\n\nwrite_sav(MICSsimulated, \n          \"./simulate-data/MICSsimulated.sav\") # SPSS\n\n\n\n\n\n\nKreft, I., & de Leeuw, J. (1998). Introducing multilevel modeling. SAGE Publications. https://doi.org/10.4135/9781849209366\n\n\nLuke, D. (2004). Multilevel modeling. SAGE Publications, Inc. https://doi.org/10.4135/9781412985147\n\n\nRabe-Hesketh, S., & Skrondal, A. (2022). Multilevel and longitudinal modeling using Stata. In Stata Press (4th ed.). Stata Press.\n\n\nRaudenbush, S. W., & Bryk, A. S. (2002). Hierarchical linear models: Applications and data analysis methods (pp. xxiv, 485 p.). Sage Publications.\n\n\nSinger, J. D., & Willett, J. B. (2003). Applied longitudinal data analysis : Modeling change and event occurrence. In Applied longitudinal data analysis : modeling change and event occurrence. Oxford University Press.\n\n\nUnited Nations Development Program. (2022). Human Development Index (HDI). https://hdr.undp.org/data-center/human-development-index#/indicies/HDI\n\n\nUnited Nations Development Program. (2023). Gender Inequality Index (GII). https://hdr.undp.org/data-center/thematic-composite-indices/gender-inequality-index#/indicies/GII"
  }
]